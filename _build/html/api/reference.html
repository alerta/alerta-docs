
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>API Reference &#8212; alerta 6.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Alert Format" href="alert.html" />
    <link rel="prev" title="Resources" href="../resources.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="api-reference">
<span id="api"></span><h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="resource-types">
<p class="topic-title first">Resource Types</p>
<ul class="simple">
<li><a class="reference internal" href="#alerts" id="id86">Alerts</a><ul>
<li><a class="reference internal" href="#create-an-alert" id="id87">Create an alert</a></li>
<li><a class="reference internal" href="#retrieve-an-alert" id="id88">Retrieve an alert</a></li>
<li><a class="reference internal" href="#set-alert-status" id="id89">Set alert status</a></li>
<li><a class="reference internal" href="#action-alert" id="id90">Action alert</a></li>
<li><a class="reference internal" href="#tag-and-untag-alerts" id="id91">Tag and untag alerts</a></li>
<li><a class="reference internal" href="#update-alert-attributes" id="id92">Update alert attributes</a></li>
<li><a class="reference internal" href="#delete-an-alert" id="id93">Delete an alert</a></li>
<li><a class="reference internal" href="#search-alerts" id="id94">Search alerts</a></li>
<li><a class="reference internal" href="#list-all-alert-history" id="id95">List all alert history</a></li>
<li><a class="reference internal" href="#get-severity-and-status-counts-for-alerts" id="id96">Get severity and status counts for alerts</a></li>
<li><a class="reference internal" href="#top-10-alerts-by-resource" id="id97">Top 10 alerts by resource</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environments" id="id98">Environments</a><ul>
<li><a class="reference internal" href="#list-all-environments" id="id99">List all environments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#services" id="id100">Services</a><ul>
<li><a class="reference internal" href="#list-all-services" id="id101">List all services</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tags" id="id102">Tags</a><ul>
<li><a class="reference internal" href="#list-all-tags" id="id103">List all tags</a></li>
</ul>
</li>
<li><a class="reference internal" href="#blackout-periods" id="id104">Blackout Periods</a><ul>
<li><a class="reference internal" href="#create-a-blackout" id="id105">Create a blackout</a></li>
<li><a class="reference internal" href="#list-all-blackouts" id="id106">List all blackouts</a></li>
<li><a class="reference internal" href="#delete-a-blackout" id="id107">Delete a blackout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#heartbeats" id="id108">Heartbeats</a><ul>
<li><a class="reference internal" href="#send-a-heartbeat" id="id109">Send a heartbeat</a></li>
<li><a class="reference internal" href="#get-a-heartbeat" id="id110">Get a heartbeat</a></li>
<li><a class="reference internal" href="#list-all-heartbeats" id="id111">List all heartbeats</a></li>
<li><a class="reference internal" href="#delete-a-heartbeat" id="id112">Delete a heartbeat</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-keys" id="id113">API Keys</a><ul>
<li><a class="reference internal" href="#create-an-api-key" id="id114">Create an API key</a></li>
<li><a class="reference internal" href="#list-all-api-keys" id="id115">List all API keys</a></li>
<li><a class="reference internal" href="#delete-an-api-key" id="id116">Delete an API key</a></li>
</ul>
</li>
<li><a class="reference internal" href="#users" id="id117">Users</a><ul>
<li><a class="reference internal" href="#create-a-user" id="id118">Create a user</a></li>
<li><a class="reference internal" href="#update-a-user" id="id119">Update a user</a></li>
<li><a class="reference internal" href="#update-me" id="id120">Update me</a></li>
<li><a class="reference internal" href="#update-user-attributes" id="id121">Update user attributes</a></li>
<li><a class="reference internal" href="#update-user-me-attributes" id="id122">Update user me attributes</a></li>
<li><a class="reference internal" href="#list-all-users" id="id123">List all users</a></li>
<li><a class="reference internal" href="#delete-a-user" id="id124">Delete a user</a></li>
</ul>
</li>
<li><a class="reference internal" href="#permissions" id="id125">Permissions</a><ul>
<li><a class="reference internal" href="#create-permission" id="id126">Create permission</a></li>
<li><a class="reference internal" href="#list-all-permissions" id="id127">List all permissions</a></li>
<li><a class="reference internal" href="#delete-a-permission" id="id128">Delete a permission</a></li>
</ul>
</li>
<li><a class="reference internal" href="#customers" id="id129">Customers</a><ul>
<li><a class="reference internal" href="#create-a-customer" id="id130">Create a customer</a></li>
<li><a class="reference internal" href="#list-all-customers" id="id131">List all customers</a></li>
<li><a class="reference internal" href="#delete-a-customer" id="id132">Delete a customer</a></li>
</ul>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All <code class="docutils literal notranslate"><span class="pre">datetime</span></code> parameters must be in ISO 8601 format in UTC time
(using time zone designator “Z”) and expressed to millisecond precision as
recommended by the <a class="reference external" href="https://www.w3.org/TR/NOTE-datetime">W3C Date and Time Formats Note</a> eg. <code class="docutils literal notranslate"><span class="pre">2017-06-19T11:16:19.744Z</span></code></p>
</div>
<div class="section" id="alerts">
<span id="id1"></span><h2><a class="toc-backref" href="#id86">Alerts</a><a class="headerlink" href="#alerts" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-an-alert">
<span id="post-alert"></span><h3><a class="toc-backref" href="#id87">Create an alert</a><a class="headerlink" href="#create-an-alert" title="Permalink to this headline">¶</a></h3>
<p>Creates a new alert, or updates an existing alert if the <code class="docutils literal notranslate"><span class="pre">environment</span></code>-
<code class="docutils literal notranslate"><span class="pre">resource</span></code>-<code class="docutils literal notranslate"><span class="pre">event</span></code> combination already exists.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">alert</span>
</pre></div>
</div>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">resource</span></code></td>
<td>string</td>
<td><strong>Required</strong> resource under alarm</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">event</span></code></td>
<td>string</td>
<td><strong>Required</strong> event name</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">environment</span></code></td>
<td>string</td>
<td>environment, used to namespace the resource</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">severity</span></code></td>
<td>string</td>
<td>see <span class="xref std std-ref">severity_table</span> table</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">correlate</span></code></td>
<td>list</td>
<td>list of related event names</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">status</span></code></td>
<td>string</td>
<td>see <span class="xref std std-ref">status_table</span> table</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">service</span></code></td>
<td>list</td>
<td>list of effected services</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">group</span></code></td>
<td>string</td>
<td>used to group events of similar type</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">value</span></code></td>
<td>string</td>
<td>event value</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">text</span></code></td>
<td>string</td>
<td>freeform text description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">tags</span></code></td>
<td>set</td>
<td>set of tags</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">attributes</span></code></td>
<td>dict</td>
<td>dictionary of key-value pairs</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">origin</span></code></td>
<td>string</td>
<td>monitoring component that generated the alert</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">type</span></code></td>
<td>string</td>
<td>event type</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">createTime</span></code></td>
<td>datetime</td>
<td>time alert was generated at the origin</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">timeout</span></code></td>
<td>integer</td>
<td>seconds before alert is considered stale</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">rawData</span></code></td>
<td>string</td>
<td>unprocessed raw data</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only <code class="docutils literal notranslate"><span class="pre">resource</span></code> and <code class="docutils literal notranslate"><span class="pre">event</span></code> are mandatory. The <code class="docutils literal notranslate"><span class="pre">status</span></code> can be
dynamically assigned by the Alerta API based on the <code class="docutils literal notranslate"><span class="pre">severity</span></code>.</p>
</div>
</div>
<div class="section" id="example-request">
<h4>Example Request<a class="headerlink" href="#example-request" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPOST http://localhost:8080/alert <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;attributes&quot;: {</span>
<span class="s1">        &quot;region&quot;: &quot;EU&quot;</span>
<span class="s1">      },</span>
<span class="s1">      &quot;correlate&quot;: [</span>
<span class="s1">        &quot;HttpServerError&quot;,</span>
<span class="s1">        &quot;HttpServerOK&quot;</span>
<span class="s1">      ],</span>
<span class="s1">      &quot;environment&quot;: &quot;Production&quot;,</span>
<span class="s1">      &quot;event&quot;: &quot;HttpServerError&quot;,</span>
<span class="s1">      &quot;group&quot;: &quot;Web&quot;,</span>
<span class="s1">      &quot;origin&quot;: &quot;curl&quot;,</span>
<span class="s1">      &quot;resource&quot;: &quot;web01&quot;,</span>
<span class="s1">      &quot;service&quot;: [</span>
<span class="s1">        &quot;example.com&quot;</span>
<span class="s1">      ],</span>
<span class="s1">      &quot;severity&quot;: &quot;major&quot;,</span>
<span class="s1">      &quot;tags&quot;: [</span>
<span class="s1">        &quot;dc1&quot;</span>
<span class="s1">      ],</span>
<span class="s1">      &quot;text&quot;: &quot;Site is down.&quot;,</span>
<span class="s1">      &quot;type&quot;: &quot;exceptionAlert&quot;,</span>
<span class="s1">      &quot;value&quot;: &quot;Bad Gateway (501)&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-response">
<h4>Example Response<a class="headerlink" href="#example-response" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">201</span> <span class="n">CREATED</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;alert&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;flapping&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;notify&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;EU&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;correlate&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
      <span class="s2">&quot;HttpServerOK&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;createTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:12.999Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;duplicateCount&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;Web&quot;</span><span class="p">,</span>
    <span class="nt">&quot;history&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
        <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;major&quot;</span><span class="p">,</span>
        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Site is down.&quot;</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;severity&quot;</span><span class="p">,</span>
        <span class="nt">&quot;updateTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:12.999Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Bad Gateway (501)&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lastReceiveId&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lastReceiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:13.070Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;curl&quot;</span><span class="p">,</span>
    <span class="nt">&quot;previousSeverity&quot;</span><span class="p">:</span> <span class="s2">&quot;indeterminate&quot;</span><span class="p">,</span>
    <span class="nt">&quot;rawData&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;receiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:13.070Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;repeat&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;web01&quot;</span><span class="p">,</span>
    <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;example.com&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;major&quot;</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;open&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;dc1&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Site is down.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">86400</span><span class="p">,</span>
    <span class="nt">&quot;trendIndication&quot;</span><span class="p">:</span> <span class="s2">&quot;moreSevere&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exceptionAlert&quot;</span><span class="p">,</span>
    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Bad Gateway (501)&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="example-response-during-blackout-period">
<h4>Example Response (during blackout period)<a class="headerlink" href="#example-response-during-blackout-period" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">202</span> <span class="n">ACCEPTED</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Suppressed alert during blackout period&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1711c57e-5c6a-4c39-881b-9d8d174feafe&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="retrieve-an-alert">
<span id="get-alert-id"></span><h3><a class="toc-backref" href="#id88">Retrieve an alert</a><a class="headerlink" href="#retrieve-an-alert" title="Permalink to this headline">¶</a></h3>
<p>Retrieves an alert with the given alert ID.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">alert</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span>
</pre></div>
</div>
<div class="section" id="id2">
<h4>Example Request<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258 <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h4>Example Response<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;alert&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;flapping&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
      <span class="nt">&quot;notify&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;EU&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;correlate&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
      <span class="s2">&quot;HttpServerOK&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;createTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:12.999Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;duplicateCount&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;Web&quot;</span><span class="p">,</span>
    <span class="nt">&quot;history&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
        <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;major&quot;</span><span class="p">,</span>
        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Site is down.&quot;</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;severity&quot;</span><span class="p">,</span>
        <span class="nt">&quot;updateTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:12.999Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Bad Gateway (501)&quot;</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lastReceiveId&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lastReceiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:13.070Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;curl&quot;</span><span class="p">,</span>
    <span class="nt">&quot;previousSeverity&quot;</span><span class="p">:</span> <span class="s2">&quot;indeterminate&quot;</span><span class="p">,</span>
    <span class="nt">&quot;rawData&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;receiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:13.070Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;repeat&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;web01&quot;</span><span class="p">,</span>
    <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;example.com&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;major&quot;</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;open&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;dc1&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Site is down.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">86400</span><span class="p">,</span>
    <span class="nt">&quot;trendIndication&quot;</span><span class="p">:</span> <span class="s2">&quot;moreSevere&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exceptionAlert&quot;</span><span class="p">,</span>
    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Bad Gateway (501)&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="set-alert-status">
<h3><a class="toc-backref" href="#id89">Set alert status</a><a class="headerlink" href="#set-alert-status" title="Permalink to this headline">¶</a></h3>
<p>Sets the status of an alert, and logs the status change to the alert history.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">alert</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span><span class="o">/</span><span class="n">status</span>
</pre></div>
</div>
<div class="section" id="id4">
<h4>Input<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">status</span></code></td>
<td>string</td>
<td><strong>Required</strong> New status from <code class="docutils literal notranslate"><span class="pre">open</span></code>,
<code class="docutils literal notranslate"><span class="pre">assign</span></code>, <code class="docutils literal notranslate"><span class="pre">ack</span></code>, <code class="docutils literal notranslate"><span class="pre">closed</span></code>, <code class="docutils literal notranslate"><span class="pre">expired</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">text</span></code></td>
<td>string</td>
<td>reason for status change</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">timeout</span></code></td>
<td>integer</td>
<td>Seconds.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h4>Example Request<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPUT http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258/status <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;status&quot;: &quot;ack&quot;,</span>
<span class="s1">      &quot;text&quot;: &quot;disk needs replacing.&quot;,</span>
<span class="s1">      &quot;timeout&quot;: 7200</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="action-alert">
<h3><a class="toc-backref" href="#id90">Action alert</a><a class="headerlink" href="#action-alert" title="Permalink to this headline">¶</a></h3>
<p>Takes an action against an alert which can change the status or severity
of the alert and logs the action to the alert history.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">alert</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span><span class="o">/</span><span class="n">action</span>
</pre></div>
</div>
<div class="section" id="id6">
<h4>Input<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">action</span></code></td>
<td>string</td>
<td><strong>Required</strong> Action from <code class="docutils literal notranslate"><span class="pre">ack</span></code>, <code class="docutils literal notranslate"><span class="pre">unack`</span></code>
<code class="docutils literal notranslate"><span class="pre">shelve</span></code>, <code class="docutils literal notranslate"><span class="pre">unshelve</span></code>, <code class="docutils literal notranslate"><span class="pre">close</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">text</span></code></td>
<td>string</td>
<td>reason for action</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">timeout</span></code></td>
<td>integer</td>
<td>Seconds.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id7">
<h4>Example Request<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPUT http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258/action <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;action&quot;: &quot;shelve&quot;,</span>
<span class="s1">      &quot;text&quot;: &quot;swap out servers.&quot;,</span>
<span class="s1">      &quot;timeout&quot;: 7200</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tag-and-untag-alerts">
<h3><a class="toc-backref" href="#id91">Tag and untag alerts</a><a class="headerlink" href="#tag-and-untag-alerts" title="Permalink to this headline">¶</a></h3>
<p>Adds or removes tag values from the set of tags for an alert.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">alert</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span><span class="o">/</span><span class="n">tag</span>
<span class="n">PUT</span> <span class="o">/</span><span class="n">alert</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span><span class="o">/</span><span class="n">untag</span>
</pre></div>
</div>
<div class="section" id="id8">
<h4>Input<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">tags</span></code></td>
<td>set</td>
<td>tags to add or remove</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id9">
<h4>Example Request<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPUT http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258/tag <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;tags&quot;: [</span>
<span class="s1">        &quot;linux&quot;,</span>
<span class="s1">        &quot;linux2.6&quot;,</span>
<span class="s1">        &quot;dell&quot;</span>
<span class="s1">      ]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="update-alert-attributes">
<h3><a class="toc-backref" href="#id92">Update alert attributes</a><a class="headerlink" href="#update-alert-attributes" title="Permalink to this headline">¶</a></h3>
<p>Adds, deletes or modifies alert attributes. To delete an attribute assign
“null” to the attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">alert</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span><span class="o">/</span><span class="n">attributes</span>
</pre></div>
</div>
<div class="section" id="id10">
<h4>Input<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">attributes</span></code></td>
<td>dict</td>
<td>dictionary of key-value attributes</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id11">
<h4>Example Request<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPUT http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258/attributes <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;attributes&quot;: {</span>
<span class="s1">        &quot;incidentKey&quot;: &quot;1234abcd&quot;,</span>
<span class="s1">        &quot;ip&quot;: &quot;10.1.1.1&quot;,</span>
<span class="s1">        &quot;region&quot;: null</span>
<span class="s1">      }</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-an-alert">
<h3><a class="toc-backref" href="#id93">Delete an alert</a><a class="headerlink" href="#delete-an-alert" title="Permalink to this headline">¶</a></h3>
<p>Permanently deletes an alert. It cannot be undone.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">alert</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span>
</pre></div>
</div>
<div class="section" id="id12">
<h4>Example Request<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XDELETE http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258 <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="search-alerts">
<span id="get-alerts"></span><h3><a class="toc-backref" href="#id94">Search alerts</a><a class="headerlink" href="#search-alerts" title="Permalink to this headline">¶</a></h3>
<p>Find alerts using various alert attributes or a mongo-type query parameter to
filter results.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">alerts</span>
</pre></div>
</div>
<div class="section" id="parameters">
<h4>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;attr&gt;</span></code></td>
<td>string</td>
<td>any alert attribute. eg. <code class="docutils literal notranslate"><span class="pre">status=open</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">q</span></code> (*)</td>
<td>json</td>
<td>mongo query (see <a class="reference external" href="http://docs.mongodb.org/manual/reference/operator/query/">Mongo Query Operators</a>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">fields</span></code> (*)</td>
<td>list</td>
<td>show or hide alert attributes</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">from-date</span></code></td>
<td>datetime</td>
<td><code class="docutils literal notranslate"><span class="pre">lastReceiveTime</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">from-date</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">to-date</span></code></td>
<td>datetime</td>
<td><code class="docutils literal notranslate"><span class="pre">lastReceiveTime</span></code> &lt;= <code class="docutils literal notranslate"><span class="pre">to-date</span></code> (now)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">sort-by</span></code></td>
<td>string</td>
<td>attr to sort by (default:<code class="docutils literal notranslate"><span class="pre">lastReceiveTime</span></code>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">reverse</span></code></td>
<td>boolean</td>
<td>change direction of default sort order</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">page</span></code></td>
<td>integer</td>
<td>number between 1 and total pages (default: 1)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">page-size</span></code></td>
<td>integer</td>
<td>default: 1000 (set <code class="docutils literal notranslate"><span class="pre">DEFAULT_PAGE_SIZE</span></code> )</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;attr&gt;</span></code> search parameter works as follows:</p>
<blockquote>
<div><ul class="simple">
<li>Any combination of valid alert attributes can be used to narrow down results.</li>
<li>Search syntax is <code class="docutils literal notranslate"><span class="pre">=</span></code> (equals), <code class="docutils literal notranslate"><span class="pre">!=</span></code> (not equals), <code class="docutils literal notranslate"><span class="pre">=~</span></code> (regex match)
and <code class="docutils literal notranslate"><span class="pre">!=~</span></code> (regex exclude).</li>
<li>When searching for alert <code class="docutils literal notranslate"><span class="pre">id</span></code> the query will attempt to match against <code class="docutils literal notranslate"><span class="pre">id</span></code>
and <code class="docutils literal notranslate"><span class="pre">lastReceiveId</span></code>. The “short id” (ie. first 8-characters) can
be used. eg. <code class="docutils literal notranslate"><span class="pre">id=ba358336</span></code> instead of <code class="docutils literal notranslate"><span class="pre">id=ba358336-802d-40ee-8ace-bf5fa8529280</span></code>.</li>
<li>Use <a class="reference external" href="https://docs.mongodb.com/v3.2/core/document/#document-dot-notation">“dot notation”</a> to query custom attributes. eg. <code class="docutils literal notranslate"><span class="pre">attributes.city=Berlin</span></code></li>
<li>Alert <code class="docutils literal notranslate"><span class="pre">history</span></code> is limited to the 100 most recent status or severity changes.
(set using <code class="docutils literal notranslate"><span class="pre">HISTORY_LIMIT</span></code>)</li>
<li>If “customer views” is enabled then the appropriate <code class="docutils literal notranslate"><span class="pre">customer</span></code> filter for
that user will be automatically applied.</li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">q</span></code> search parameter works as follows:</p>
<blockquote>
<div><ul class="simple">
<li>Any valid JSON-compliant Mongo query using <a class="reference external" href="http://docs.mongodb.org/manual/reference/operator/query/">Mongo Query Operators</a>. Useful
when there is a need to “or” several attributes to get the required
search filter  eg. <code class="docutils literal notranslate"><span class="pre">q={&quot;$or&quot;:[{&quot;service&quot;:&quot;Web&quot;},{&quot;resource&quot;:{&quot;$regex&quot;:&quot;web&quot;}}]}</span></code></li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In the next major release of Alerta (5.0) the <code class="docutils literal notranslate"><span class="pre">fields</span></code> parameter
will be removed. Also the <code class="docutils literal notranslate"><span class="pre">q</span></code> search term may change and no longer be
mongo-specific.</p>
</div>
</div>
<div class="section" id="id13">
<h4>Example Request<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/alerts?group<span class="o">=</span>Web <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h4>Example Response<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;alerts&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;flapping&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;incidentKey&quot;</span><span class="p">:</span> <span class="s2">&quot;1234abcd&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1.1.1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;notify&quot;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">},</span>
      <span class="nt">&quot;correlate&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
        <span class="s2">&quot;HttpServerOK&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;createTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:12.999Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;duplicateCount&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
      <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
      <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;Web&quot;</span><span class="p">,</span>
      <span class="nt">&quot;history&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
          <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
          <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
          <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;major&quot;</span><span class="p">,</span>
          <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
          <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Site is down.&quot;</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;severity&quot;</span><span class="p">,</span>
          <span class="nt">&quot;updateTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:12.999Z&quot;</span><span class="p">,</span>
          <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Bad Gateway (501)&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
          <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
          <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
          <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
          <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ack&quot;</span><span class="p">,</span>
          <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;disk needs replacing.&quot;</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;status&quot;</span><span class="p">,</span>
          <span class="nt">&quot;updateTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:04:42.412Z&quot;</span><span class="p">,</span>
          <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="kc">null</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
      <span class="nt">&quot;lastReceiveId&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
      <span class="nt">&quot;lastReceiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:13.070Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;curl&quot;</span><span class="p">,</span>
      <span class="nt">&quot;previousSeverity&quot;</span><span class="p">:</span> <span class="s2">&quot;indeterminate&quot;</span><span class="p">,</span>
      <span class="nt">&quot;rawData&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;receiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:13.070Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;repeat&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;web01&quot;</span><span class="p">,</span>
      <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;example.com&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;major&quot;</span><span class="p">,</span>
      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ack&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;dc1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linux&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linux2.6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dell&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Site is down.&quot;</span><span class="p">,</span>
      <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">86400</span><span class="p">,</span>
      <span class="nt">&quot;trendIndication&quot;</span><span class="p">:</span> <span class="s2">&quot;moreSevere&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;exceptionAlert&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Bad Gateway (501)&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;autoRefresh&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;lastTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:13.070Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;more&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">&quot;page&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;pageSize&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
  <span class="nt">&quot;pages&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;severityCounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;major&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;statusCounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;ack&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-all-alert-history">
<span id="get-alerts-history"></span><h3><a class="toc-backref" href="#id95">List all alert history</a><a class="headerlink" href="#list-all-alert-history" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of alert severity and status changes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">alerts</span><span class="o">/</span><span class="n">history</span>
</pre></div>
</div>
<div class="section" id="id15">
<h4>Parameters<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;attr&gt;</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id16">
<h4>Example Request<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/alerts/history?service<span class="o">=</span>example.com <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id17">
<h4>Example Response<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;history&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;flapping&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;incidentKey&quot;</span><span class="p">:</span> <span class="s2">&quot;1234abcd&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1.1.1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;notify&quot;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">},</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
      <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
      <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;Web&quot;</span><span class="p">,</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;curl&quot;</span><span class="p">,</span>
      <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;web01&quot;</span><span class="p">,</span>
      <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;example.com&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;major&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;dc1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linux&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linux2.6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dell&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Site is down.&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;severity&quot;</span><span class="p">,</span>
      <span class="nt">&quot;updateTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:00:12.999Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Bad Gateway (501)&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;flapping&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;incidentKey&quot;</span><span class="p">:</span> <span class="s2">&quot;1234abcd&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1.1.1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;notify&quot;</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">},</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
      <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;HttpServerError&quot;</span><span class="p">,</span>
      <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;Web&quot;</span><span class="p">,</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;17d8e7ea-b3ba-4bb1-9c5a-29e60865f258&quot;</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;curl&quot;</span><span class="p">,</span>
      <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;web01&quot;</span><span class="p">,</span>
      <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;example.com&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ack&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;dc1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linux&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linux2.6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dell&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;disk needs replacing.&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;status&quot;</span><span class="p">,</span>
      <span class="nt">&quot;updateTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:04:42.412Z&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-severity-and-status-counts-for-alerts">
<h3><a class="toc-backref" href="#id96">Get severity and status counts for alerts</a><a class="headerlink" href="#get-severity-and-status-counts-for-alerts" title="Permalink to this headline">¶</a></h3>
<p>Returns a count of alerts grouped by severity and status.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">alerts</span><span class="o">/</span><span class="n">count</span>
</pre></div>
</div>
<div class="section" id="id18">
<h4>Parameters<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;attr&gt;</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id19">
<h4>Example Request<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/alerts/count?environment<span class="o">=</span>Production <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id20">
<h4>Example Response<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;severityCounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;critical&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;major&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;statusCounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;ack&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;open&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="top-10-alerts-by-resource">
<h3><a class="toc-backref" href="#id97">Top 10 alerts by resource</a><a class="headerlink" href="#top-10-alerts-by-resource" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of the top 10 resources grouped by an alert attribute. By
default it is grouped by <code class="docutils literal notranslate"><span class="pre">event</span></code> but this can be any valid attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">alerts</span><span class="o">/</span><span class="n">top10</span><span class="o">/</span><span class="n">count</span>
<span class="n">GET</span> <span class="o">/</span><span class="n">alerts</span><span class="o">/</span><span class="n">top10</span><span class="o">/</span><span class="n">flapping</span>
</pre></div>
</div>
<div class="section" id="id21">
<h4>Parameters<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;attr&gt;</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">q</span></code></td>
<td>dict</td>
<td>mongo query see <a class="reference external" href="http://docs.mongodb.org/manual/reference/operator/query/">Mongo Query Operators</a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">group-by</span></code></td>
<td>string</td>
<td>any valid alert attribute. Default:<code class="docutils literal notranslate"><span class="pre">event</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id22">
<h4>Example Request<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/alerts/top10?group-by<span class="o">=</span>group <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id23">
<h4>Example Response<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;top10&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nt">&quot;duplicateCount&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;environments&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;Production&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;Web&quot;</span><span class="p">,</span>
      <span class="nt">&quot;resources&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/0099bae5-9683-48a1-a49d-f566fe143770&quot;</span><span class="p">,</span>
          <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;0099bae5-9683-48a1-a49d-f566fe143770&quot;</span><span class="p">,</span>
          <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;web02&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/alert/e9fb05a0-b65c-4faa-8868-6f06a74a2b5b&quot;</span><span class="p">,</span>
          <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;e9fb05a0-b65c-4faa-8868-6f06a74a2b5b&quot;</span><span class="p">,</span>
          <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;web01&quot;</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="nt">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;example.com&quot;</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="environments">
<span id="id24"></span><h2><a class="toc-backref" href="#id98">Environments</a><a class="headerlink" href="#environments" title="Permalink to this headline">¶</a></h2>
<p>An environment cannot be created – it is a dynamically derived resource based
on existing alerts.</p>
<div class="section" id="list-all-environments">
<h3><a class="toc-backref" href="#id99">List all environments</a><a class="headerlink" href="#list-all-environments" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of environments and an alert count for each.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">environments</span>
</pre></div>
</div>
<div class="section" id="id25">
<h4>Parameters<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;attr&gt;</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id26">
<h4>Example Request<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/environments <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id27">
<h4>Example Response<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;environments&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="services">
<span id="id28"></span><h2><a class="toc-backref" href="#id100">Services</a><a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h2>
<p>A service cannot be created – it is a dynamically derived resource based on existing alerts.</p>
<div class="section" id="list-all-services">
<h3><a class="toc-backref" href="#id101">List all services</a><a class="headerlink" href="#list-all-services" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of services grouped by environment and an alert count for each.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">services</span>
</pre></div>
</div>
<div class="section" id="id29">
<h4>Parameters<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;attr&gt;</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id30">
<h4>Example Request<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/services?environment<span class="o">=</span>Production <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id31">
<h4>Example Response<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
      <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="s2">&quot;example.com&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="tags">
<span id="id32"></span><h2><a class="toc-backref" href="#id102">Tags</a><a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h2>
<p>A tag cannot be created – it is a dynamically derived resource based on existing alerts.</p>
<div class="section" id="list-all-tags">
<h3><a class="toc-backref" href="#id103">List all tags</a><a class="headerlink" href="#list-all-tags" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of tags grouped by environment and an alert count for each.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">tags</span>
</pre></div>
</div>
<div class="section" id="id33">
<h4>Parameters<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">&lt;attr&gt;</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id34">
<h4>Example Request<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/tags?environment<span class="o">=</span>Production <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id35">
<h4>Example Response<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;linux&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;dc2&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;hp&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;dell&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;dc1&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;linux2.6&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">6</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="blackout-periods">
<span id="blackouts"></span><h2><a class="toc-backref" href="#id104">Blackout Periods</a><a class="headerlink" href="#blackout-periods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-blackout">
<h3><a class="toc-backref" href="#id105">Create a blackout</a><a class="headerlink" href="#create-a-blackout" title="Permalink to this headline">¶</a></h3>
<p>Create a new blackout period for alert suppression.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">blackout</span>
</pre></div>
</div>
<div class="section" id="id36">
<h4>Input<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">environment</span></code></td>
<td>string</td>
<td><strong>Required</strong></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">resource</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">service</span></code></td>
<td>list</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">event</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">group</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">tags</span></code></td>
<td>list</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">startTime</span></code></td>
<td>datetime</td>
<td>start time of blackout. Default: now</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">endTime</span></code></td>
<td>datetime</td>
<td>end time. Default: now +
<code class="docutils literal notranslate"><span class="pre">BLACKOUT_DURATION</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">duration</span></code></td>
<td>integer</td>
<td>seconds. Default: <code class="docutils literal notranslate"><span class="pre">BLACKOUT_DURATION</span></code>
Only used if <code class="docutils literal notranslate"><span class="pre">endTime</span></code> not defined</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id37">
<h4>Example Request<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPOST http://localhost:8080/blackout <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;environment&quot;: &quot;Production&quot;,</span>
<span class="s1">      &quot;service&quot;: [&quot;example.com&quot;],</span>
<span class="s1">      &quot;group&quot;: &quot;Web&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id38">
<h4>Example Response<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">201</span> <span class="n">CREATED</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;blackout&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;duration&quot;</span><span class="p">:</span> <span class="mi">3600</span><span class="p">,</span>
    <span class="nt">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T22:10:31.705Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;Web&quot;</span><span class="p">,</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/blackout/79d12b79-45b9-4419-80e4-1f6c17478eb6&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;79d12b79-45b9-4419-80e4-1f6c17478eb6&quot;</span><span class="p">,</span>
    <span class="nt">&quot;priority&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nt">&quot;remaining&quot;</span><span class="p">:</span> <span class="mi">3599</span><span class="p">,</span>
    <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;example.com&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:10:31.705Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[]</span>
  <span class="p">},</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;79d12b79-45b9-4419-80e4-1f6c17478eb6&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-all-blackouts">
<h3><a class="toc-backref" href="#id106">List all blackouts</a><a class="headerlink" href="#list-all-blackouts" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of blackout periods, including expired blackouts.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">blackouts</span>
</pre></div>
</div>
<div class="section" id="id39">
<h4>Example Request<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/blackouts <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id40">
<h4>Example Response<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;blackouts&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;duration&quot;</span><span class="p">:</span> <span class="mi">3600</span><span class="p">,</span>
      <span class="nt">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T22:10:31.705Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Production&quot;</span><span class="p">,</span>
      <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;Web&quot;</span><span class="p">,</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/blackout/79d12b79-45b9-4419-80e4-1f6c17478eb6&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;79d12b79-45b9-4419-80e4-1f6c17478eb6&quot;</span><span class="p">,</span>
      <span class="nt">&quot;priority&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="nt">&quot;remaining&quot;</span><span class="p">:</span> <span class="mi">3345</span><span class="p">,</span>
      <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;example.com&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:10:31.705Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;duration&quot;</span><span class="p">:</span> <span class="mi">3600</span><span class="p">,</span>
      <span class="nt">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T22:14:32.377Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;Development&quot;</span><span class="p">,</span>
      <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;Performance&quot;</span><span class="p">,</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/blackout/c17832d4-c477-4eb1-b2d5-662e7a3600be&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;c17832d4-c477-4eb1-b2d5-662e7a3600be&quot;</span><span class="p">,</span>
      <span class="nt">&quot;priority&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="nt">&quot;remaining&quot;</span><span class="p">:</span> <span class="mi">3586</span><span class="p">,</span>
      <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="nt">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:14:32.377Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-blackout">
<h3><a class="toc-backref" href="#id107">Delete a blackout</a><a class="headerlink" href="#delete-a-blackout" title="Permalink to this headline">¶</a></h3>
<p>Permanently deletes a blackout period. It cannot be undone.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">blackout</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span>
</pre></div>
</div>
<div class="section" id="id41">
<h4>Example Request<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XDELETE http://localhost:8080/blackout/c17832d4-c477-4eb1-b2d5-662e7a3600be <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="heartbeats">
<span id="id42"></span><h2><a class="toc-backref" href="#id108">Heartbeats</a><a class="headerlink" href="#heartbeats" title="Permalink to this headline">¶</a></h2>
<div class="section" id="send-a-heartbeat">
<h3><a class="toc-backref" href="#id109">Send a heartbeat</a><a class="headerlink" href="#send-a-heartbeat" title="Permalink to this headline">¶</a></h3>
<p>Creates a new heartbeat, or updates an existing heartbeat if a heartbeat
from the <code class="docutils literal notranslate"><span class="pre">origin</span></code> already exists.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">heartbeat</span>
</pre></div>
</div>
<div class="section" id="id43">
<h4>Input<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">origin</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">tags</span></code></td>
<td>list</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">timeout</span></code></td>
<td>integer</td>
<td>Seconds.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id44">
<h4>Example Request<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPOST http://localhost:8080/heartbeat <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;origin&quot;: &quot;cluster05&quot;,</span>
<span class="s1">      &quot;timeout&quot;: 120,</span>
<span class="s1">      &quot;tags&quot;: [&quot;db05&quot;, &quot;dc2&quot;]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id45">
<h4>Example Response<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">201</span> <span class="n">CREATED</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;heartbeat&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;createTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:15:38.675Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/heartbeat/1a3f2e0a-3c65-4199-84ae-a21fb892ccc0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1a3f2e0a-3c65-4199-84ae-a21fb892ccc0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;latency&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;cluster05&quot;</span><span class="p">,</span>
    <span class="nt">&quot;receiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:15:38.675Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;since&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;db05&quot;</span><span class="p">,</span>
      <span class="s2">&quot;dc2&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Heartbeat&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1a3f2e0a-3c65-4199-84ae-a21fb892ccc0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-a-heartbeat">
<h3><a class="toc-backref" href="#id110">Get a heartbeat</a><a class="headerlink" href="#get-a-heartbeat" title="Permalink to this headline">¶</a></h3>
<p>Retrieves a heartbeat based on the heartbeat ID.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">heartbeat</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span>
</pre></div>
</div>
<div class="section" id="id46">
<h4>Example Request<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/heartbeat/1a3f2e0a-3c65-4199-84ae-a21fb892ccc0 <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id47">
<h4>Example Response<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;heartbeat&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;createTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:15:38.675Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/heartbeat/1a3f2e0a-3c65-4199-84ae-a21fb892ccc0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1a3f2e0a-3c65-4199-84ae-a21fb892ccc0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;latency&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;cluster05&quot;</span><span class="p">,</span>
    <span class="nt">&quot;receiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:15:38.675Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;since&quot;</span><span class="p">:</span> <span class="mi">34</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;db05&quot;</span><span class="p">,</span>
      <span class="s2">&quot;dc2&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Heartbeat&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-all-heartbeats">
<h3><a class="toc-backref" href="#id111">List all heartbeats</a><a class="headerlink" href="#list-all-heartbeats" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of all heartbeats.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">heartbeats</span>
</pre></div>
</div>
<div class="section" id="id48">
<h4>Example Request<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/heartbeats <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id49">
<h4>Example Response<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;heartbeats&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;createTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:17:13.922Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/heartbeat/f5eb11ef-e02b-42f2-9013-6efca6eca22a&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;f5eb11ef-e02b-42f2-9013-6efca6eca22a&quot;</span><span class="p">,</span>
      <span class="nt">&quot;latency&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;web02&quot;</span><span class="p">,</span>
      <span class="nt">&quot;receiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:17:13.922Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;since&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span>
      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;linux&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dc1&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Heartbeat&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;createTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:17:55.936Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/heartbeat/e0582765-ee64-4944-8a94-1869a079d81f&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;e0582765-ee64-4944-8a94-1869a079d81f&quot;</span><span class="p">,</span>
      <span class="nt">&quot;latency&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;cluster05&quot;</span><span class="p">,</span>
      <span class="nt">&quot;receiveTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T21:17:55.936Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;since&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;db05&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dc2&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Heartbeat&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-heartbeat">
<h3><a class="toc-backref" href="#id112">Delete a heartbeat</a><a class="headerlink" href="#delete-a-heartbeat" title="Permalink to this headline">¶</a></h3>
<p>Permanently deletes a heartbeat. It cannot be undone.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">heartbeat</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span>
</pre></div>
</div>
<div class="section" id="id50">
<h4>Example Request<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XDELETE http://localhost:8080/heartbeat/e0582765-ee64-4944-8a94-1869a079d81f <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="api-keys">
<span id="id51"></span><h2><a class="toc-backref" href="#id113">API Keys</a><a class="headerlink" href="#api-keys" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-an-api-key">
<h3><a class="toc-backref" href="#id114">Create an API key</a><a class="headerlink" href="#create-an-api-key" title="Permalink to this headline">¶</a></h3>
<p>Creates a new API key.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">key</span>
</pre></div>
</div>
<div class="section" id="id52">
<h4>Input<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">user</span></code></td>
<td>string</td>
<td>username</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">scopes</span></code></td>
<td>string</td>
<td><code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">write</span></code>, or <code class="docutils literal notranslate"><span class="pre">read</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">text</span></code></td>
<td>string</td>
<td>freeform description text</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">expireTime</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">customer</span></code></td>
<td>string</td>
<td><strong>Admin use only</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id53">
<h4>Example Request<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPOST http://localhost:8080/key <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;user&quot;: &quot;admin@alerta.io&quot;,</span>
<span class="s1">      &quot;scopes&quot;: [&quot;write&quot;],</span>
<span class="s1">      &quot;text&quot;: &quot;API key for external system&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id54">
<h4>Example Response<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">201</span> <span class="n">CREATED</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;expireTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-01-27T22:18:42.245Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/key/_Jwm-qaGa0kBM9R1CyyQn-0qxLtBtij4ToQf6beL&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ca931aec-4e56-496f-a8d6-be11d93ddaed&quot;</span><span class="p">,</span>
    <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;_Jwm-qaGa0kBM9R1CyyQn-0qxLtBtij4ToQf6beL&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lastUsedTime&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;scopes&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;write&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;API key for external system&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;read-write&quot;</span><span class="p">,</span>
    <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin@alerta.io&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;_Jwm-qaGa0kBM9R1CyyQn-0qxLtBtij4ToQf6beL&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-all-api-keys">
<h3><a class="toc-backref" href="#id115">List all API keys</a><a class="headerlink" href="#list-all-api-keys" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of API keys.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">keys</span>
</pre></div>
</div>
<div class="section" id="id55">
<h4>Example Request<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/keys <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id56">
<h4>Example Response<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;keys&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;expireTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-01-27T22:18:42.245Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/key/_Jwm-qaGa0kBM9R1CyyQn-0qxLtBtij4ToQf6beL&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;ca931aec-4e56-496f-a8d6-be11d93ddaed&quot;</span><span class="p">,</span>
      <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;_Jwm-qaGa0kBM9R1CyyQn-0qxLtBtij4ToQf6beL&quot;</span><span class="p">,</span>
      <span class="nt">&quot;lastUsedTime&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;scopes&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;write&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;API key for external system&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;read-write&quot;</span><span class="p">,</span>
      <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin@alerta.io&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nt">&quot;expireTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-01-27T19:22:27.120Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8080/key/demo-key&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;532c9b59-9e90-40d4-8a3b-887362a79e9c&quot;</span><span class="p">,</span>
      <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;demo-key&quot;</span><span class="p">,</span>
      <span class="nt">&quot;lastUsedTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-27T22:19:04.113Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;scopes&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;write&quot;</span><span class="p">,</span>
        <span class="s2">&quot;read&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Admin key created by alertad script&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;read-write&quot;</span><span class="p">,</span>
      <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;foo@foobar.com&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-an-api-key">
<h3><a class="toc-backref" href="#id116">Delete an API key</a><a class="headerlink" href="#delete-an-api-key" title="Permalink to this headline">¶</a></h3>
<p>Permanently deletes an API key. It cannot be undone.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">key</span><span class="o">/</span><span class="p">:</span><span class="n">key</span>
</pre></div>
</div>
<div class="section" id="id57">
<h4>Example Request<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XDELETE http://localhost:8080/key/532c9b59-9e90-40d4-8a3b-887362a79e9cO8rhJSKrdfQWXqRhvSwJQJRZg9yU0s2Z4VLP4855 <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="users">
<span id="id58"></span><h2><a class="toc-backref" href="#id117">Users</a><a class="headerlink" href="#users" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-user">
<h3><a class="toc-backref" href="#id118">Create a user</a><a class="headerlink" href="#create-a-user" title="Permalink to this headline">¶</a></h3>
<p>Creates a new Basic Auth user.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">auth</span><span class="o">/</span><span class="n">signup</span>
</pre></div>
</div>
<div class="section" id="id59">
<h4>Input<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="14%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">name</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">email</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">password</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">text</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id60">
<h4>Example Request<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPOST http://localhost:8080/auth/signup <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;name&quot;: &quot;Joe Bloggs&quot;,</span>
<span class="s1">      &quot;email&quot;: &quot;joe.bloggs@example.com&quot;,</span>
<span class="s1">      &quot;password&quot;: &quot;secret&quot;,</span>
<span class="s1">      &quot;text&quot;: &quot;demo user&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id61">
<h4>Example Response<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;token&quot;</span><span class="p">:</span> <span class="s2">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4Y2IwYjYyNC0zY2Q3LTQ1YjktOThhNS01ZGZhYzVmMDE2NmMiLCJyb2xlcyI6WyJ1c2VyIl0sImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC8iLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJqb2UuYmxvZ2dzQGV4YW1wbGUuY29tIiwibmFtZSI6IkpvZSBCbG9nZ3MiLCJlbWFpbCI6ImpvZS5ibG9nZ3NAZXhhbXBsZS5jb20iLCJzY29wZSI6InJlYWQgd3JpdGUiLCJqdGkiOiI2ODlhMmY3Yy0zNTJlLTQ5M2ItYWZjYi1iOWUwOTE3ODAyMDgiLCJleHAiOjE1MTMxODIxNDcsInByb3ZpZGVyIjoiYmFzaWMiLCJpYXQiOjE1MTE5NzI1NDcsIm5iZiI6MTUxMTk3MjU0NywiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwLyJ9.c5jpr8YksoJmoZ6KUwsYP5fgwZr-jdA4W3JUCbv1vXU&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="update-a-user">
<h3><a class="toc-backref" href="#id119">Update a user</a><a class="headerlink" href="#update-a-user" title="Permalink to this headline">¶</a></h3>
<p>Updates the specified user by setting the values of the parameters passed.
Any parameters not provided will be left unchanged.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="p">:</span><span class="n">user</span>
</pre></div>
</div>
<div class="section" id="id62">
<h4>Input<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="14%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">name</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">email</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">password</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">status</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">roles</span></code></td>
<td>set</td>
<td>set of roles</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">attributes</span></code></td>
<td>dict</td>
<td>dictionary of key-value pairs</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">text</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">email_verified</span></code></td>
<td>boolean</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id63">
<h4>Example Request<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPUT http://localhost:8080/user/0a35bfd8-1175-4cd2-96f6-eda9861fd15d <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;password&quot;: &quot;p8ssw0rd&quot;,</span>
<span class="s1">      &quot;text&quot;: &quot;test user&quot;,</span>
<span class="s1">      &quot;email_verified&quot;: false</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="update-me">
<h3><a class="toc-backref" href="#id120">Update me</a><a class="headerlink" href="#update-me" title="Permalink to this headline">¶</a></h3>
<p>Updates the logged in user by setting the values of the parameters passed.
Any parameters not provided will be left unchanged.</p>
<p>It is not allowed to update <code class="docutils literal notranslate"><span class="pre">roles</span></code>, <code class="docutils literal notranslate"><span class="pre">email_verified</span></code> status or change
the <code class="docutils literal notranslate"><span class="pre">email</span></code> to one that is already associated with another user.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">me</span>
</pre></div>
</div>
<div class="section" id="id64">
<h4>Input<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="14%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">name</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">email</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">password</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">status</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">attributes</span></code></td>
<td>dict</td>
<td>dictionary of key-value pairs</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">text</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id65">
<h4>Example Request<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPUT http://localhost:8080/user/me <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;password&quot;: &quot;p8ssw0rd&quot;,</span>
<span class="s1">      &quot;text&quot;: &quot;test user me&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="update-user-attributes">
<h3><a class="toc-backref" href="#id121">Update user attributes</a><a class="headerlink" href="#update-user-attributes" title="Permalink to this headline">¶</a></h3>
<p>Updates the specified user attributes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="p">:</span><span class="nb">id</span><span class="o">/</span><span class="n">attributes</span>
</pre></div>
</div>
<div class="section" id="id66">
<h4>Input<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="14%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">attributes</span></code></td>
<td>dict</td>
<td>dictionary of key-value pairs</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id67">
<h4>Example Request<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPUT http://localhost:8080/user/0a35bfd8-1175-4cd2-96f6-eda9861fd15d/attributes <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;attributes&quot;: {</span>
<span class="s1">        &quot;team&quot;: &quot;developers&quot;</span>
<span class="s1">      }</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="update-user-me-attributes">
<h3><a class="toc-backref" href="#id122">Update user me attributes</a><a class="headerlink" href="#update-user-me-attributes" title="Permalink to this headline">¶</a></h3>
<p>Updates the logged in user attributes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">me</span><span class="o">/</span><span class="n">attributes</span>
</pre></div>
</div>
<div class="section" id="id68">
<h4>Input<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="14%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">attributes</span></code></td>
<td>dict</td>
<td>dictionary of key-value pairs</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id69">
<h4>Example Request<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPUT http://localhost:8080/user/me/attributes <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;attributes&quot;: {</span>
<span class="s1">        &quot;teams&quot;: [&quot;developers&quot;, &quot;operations&quot;]</span>
<span class="s1">      }</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-all-users">
<h3><a class="toc-backref" href="#id123">List all users</a><a class="headerlink" href="#list-all-users" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of users.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">users</span>
</pre></div>
</div>
<div class="section" id="id70">
<h4>Example Request<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/users <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id71">
<h4>Example Response<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;domains&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;*&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;*&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;orgs&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;*&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-01-02T00:24:00.393Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;users&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;createTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-01-01T23:49:38.486Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;email_verified&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;b91811e7-52dd-4a8f-adae-b4d5c628d6f8&quot;</span><span class="p">,</span>
      <span class="nt">&quot;login&quot;</span><span class="p">:</span> <span class="s2">&quot;jane.doe@example.org&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Jane Doe&quot;</span><span class="p">,</span>
      <span class="nt">&quot;provider&quot;</span><span class="p">:</span> <span class="s2">&quot;basic&quot;</span><span class="p">,</span>
      <span class="nt">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
      <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;demo user&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;createTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-01-02T00:23:24.487Z&quot;</span><span class="p">,</span>
      <span class="nt">&quot;email_verified&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;166b41d6-849f-440d-ba30-1a5345d86fb6&quot;</span><span class="p">,</span>
      <span class="nt">&quot;login&quot;</span><span class="p">:</span> <span class="s2">&quot;joe.bloggs@example.com&quot;</span><span class="p">,</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Joe Bloggs&quot;</span><span class="p">,</span>
      <span class="nt">&quot;provider&quot;</span><span class="p">:</span> <span class="s2">&quot;basic&quot;</span><span class="p">,</span>
      <span class="nt">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
      <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;demo user&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-user">
<h3><a class="toc-backref" href="#id124">Delete a user</a><a class="headerlink" href="#delete-a-user" title="Permalink to this headline">¶</a></h3>
<p>Permanently deletes a user. It cannot be undone.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="p">:</span><span class="n">user</span>
</pre></div>
</div>
<div class="section" id="id72">
<h4>Example Request<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XDELETE http://localhost:8080/user/166b41d6-849f-440d-ba30-1a5345d86fb6 <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="permissions">
<span id="perms"></span><h2><a class="toc-backref" href="#id125">Permissions</a><a class="headerlink" href="#permissions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-permission">
<h3><a class="toc-backref" href="#id126">Create permission</a><a class="headerlink" href="#create-permission" title="Permalink to this headline">¶</a></h3>
<p>Creates a new permission lookup. Used to match user groups/roles to scopes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">perm</span>
</pre></div>
</div>
<div class="section" id="id73">
<h4>Input<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">scopes</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">match</span></code></td>
<td>regex</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id74">
<h4>Example Request<a class="headerlink" href="#id74" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPOST http://localhost:8080/perm <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;scopes&quot;: [&quot;read&quot;, &quot;write&quot;, &quot;admin:alerts&quot;],</span>
<span class="s1">      &quot;match&quot;: &quot;alerta_ops&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id75">
<h4>Example Response<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">201</span> <span class="n">CREATED</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;40c2daee-1d77-44d5-b62d-e3e446396cef&quot;</span><span class="p">,</span>
  <span class="nt">&quot;permission&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;40c2daee-1d77-44d5-b62d-e3e446396cef&quot;</span><span class="p">,</span>
    <span class="nt">&quot;match&quot;</span><span class="p">:</span> <span class="s2">&quot;alerta_ops&quot;</span><span class="p">,</span>
    <span class="nt">&quot;scopes&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;read&quot;</span><span class="p">,</span>
      <span class="s2">&quot;write&quot;</span><span class="p">,</span>
      <span class="s2">&quot;admin:keys&quot;</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-all-permissions">
<h3><a class="toc-backref" href="#id127">List all permissions</a><a class="headerlink" href="#list-all-permissions" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of permissions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">perms</span>
</pre></div>
</div>
<div class="section" id="id76">
<h4>Example Request<a class="headerlink" href="#id76" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/perms <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id77">
<h4>Example Response<a class="headerlink" href="#id77" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;permissions&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;5b726183-019f-4add-b6dc-caba87e873f7&quot;</span><span class="p">,</span>
      <span class="nt">&quot;match&quot;</span><span class="p">:</span> <span class="s2">&quot;alerta_ro&quot;</span><span class="p">,</span>
      <span class="nt">&quot;scopes&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;read&quot;</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;f4c91af3-5222-4201-9da0-02c40122f4c4&quot;</span><span class="p">,</span>
      <span class="nt">&quot;match&quot;</span><span class="p">:</span> <span class="s2">&quot;alerta_rw&quot;</span><span class="p">,</span>
      <span class="nt">&quot;scopes&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;read&quot;</span><span class="p">,</span>
        <span class="s2">&quot;write&quot;</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1f84f919-c07a-4bd1-93b0-26e28871257f&quot;</span><span class="p">,</span>
      <span class="nt">&quot;match&quot;</span><span class="p">:</span> <span class="s2">&quot;alerta_ops&quot;</span><span class="p">,</span>
      <span class="nt">&quot;scopes&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;read&quot;</span><span class="p">,</span>
        <span class="s2">&quot;write&quot;</span><span class="p">,</span>
        <span class="s2">&quot;admin:keys&quot;</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-07-29T21:42:30.500Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">3</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-permission">
<h3><a class="toc-backref" href="#id128">Delete a permission</a><a class="headerlink" href="#delete-a-permission" title="Permalink to this headline">¶</a></h3>
<p>Permanently delete a permission. It cannot be undone.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">perm</span><span class="o">/</span><span class="p">:</span><span class="n">perm</span>
</pre></div>
</div>
<div class="section" id="id78">
<h4>Example Request<a class="headerlink" href="#id78" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XDELETE http://localhost:8080/perm/1f84f919-c07a-4bd1-93b0-26e28871257f <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="customers">
<span id="id79"></span><h2><a class="toc-backref" href="#id129">Customers</a><a class="headerlink" href="#customers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-customer">
<h3><a class="toc-backref" href="#id130">Create a customer</a><a class="headerlink" href="#create-a-customer" title="Permalink to this headline">¶</a></h3>
<p>Creates a new customer lookup. Used to match user logins to customers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">customer</span>
</pre></div>
</div>
<div class="section" id="id80">
<h4>Input<a class="headerlink" href="#id80" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="14%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">customer</span></code></td>
<td>string</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">match</span></code></td>
<td>regex</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id81">
<h4>Example Request<a class="headerlink" href="#id81" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XPOST http://localhost:8080/customer <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span> <span class="se">\</span>
-H <span class="s1">&#39;Content-type: application/json&#39;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;customer&quot;: &quot;Example Corp.&quot;,</span>
<span class="s1">      &quot;match&quot;: &quot;example.com&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id82">
<h4>Example Response<a class="headerlink" href="#id82" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">201</span> <span class="n">CREATED</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="s2">&quot;Example Corp.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;289ca657-ea2c-4775-9e07-cc96844cc717&quot;</span><span class="p">,</span>
    <span class="nt">&quot;match&quot;</span><span class="p">:</span> <span class="s2">&quot;example.com&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;289ca657-ea2c-4775-9e07-cc96844cc717&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-all-customers">
<h3><a class="toc-backref" href="#id131">List all customers</a><a class="headerlink" href="#list-all-customers" title="Permalink to this headline">¶</a></h3>
<p>Returns a list of customers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">customers</span>
</pre></div>
</div>
<div class="section" id="id83">
<h4>Example Request<a class="headerlink" href="#id83" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl http://localhost:8080/customers <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id84">
<h4>Example Response<a class="headerlink" href="#id84" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">200</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;customers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="s2">&quot;Example Corp.&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;289ca657-ea2c-4775-9e07-cc96844cc717&quot;</span><span class="p">,</span>
      <span class="nt">&quot;match&quot;</span><span class="p">:</span> <span class="s2">&quot;example.com&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;customer&quot;</span><span class="p">:</span> <span class="s2">&quot;Example Org.&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;90f4e211-c815-4112-9e1a-6e53de5a59c6&quot;</span><span class="p">,</span>
      <span class="nt">&quot;match&quot;</span><span class="p">:</span> <span class="s2">&quot;example.org&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-01-02T01:21:38.958Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-customer">
<h3><a class="toc-backref" href="#id132">Delete a customer</a><a class="headerlink" href="#delete-a-customer" title="Permalink to this headline">¶</a></h3>
<p>Permanently delete a customer. It cannot be undone.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">customer</span><span class="o">/</span><span class="p">:</span><span class="n">customer</span>
</pre></div>
</div>
<div class="section" id="id85">
<h4>Example Request<a class="headerlink" href="#id85" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -XDELETE http://localhost:8080/customer/90f4e211-c815-4112-9e1a-6e53de5a59c6 <span class="se">\</span>
-H <span class="s1">&#39;Authorization: Key demo-key&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">alerta</a></h1>



<p class="blurb">monitoring system</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=alerta&repo=alerta&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a href="https://travis-ci.org/alerta/alerta">
    <img
        alt="https://secure.travis-ci.org/alerta/alerta.svg?branch=master"
        src="https://secure.travis-ci.org/alerta/alerta.svg?branch=master"
    />
</a>
</p>




<h3>
Links
</h3>
<ul>
  <li>
    <a href="http://alerta.io" rel="me">Web</a>
  </li>
  <li>
    <a href="https://twitter.com/alertaio" rel="me">Twitter</a>
  </li>
  <li>
    <a href="https://gitter.im/alerta/chat" rel="me">Gitter</a>
  </li>
</ul>

<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick-start.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design.html">Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server.html">Server &amp; API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webui.html">Alerta Web UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Alerta CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations &amp; Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authorization.html">Authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customer-views.html">Customer Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">Resources</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert.html">Alert Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="heartbeat.html">Heartbeat Format</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015-2018, Nick Satterly. MIT License.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="../_sources/api/reference.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-44644195-3']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>